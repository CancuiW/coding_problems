<!DOCTYPE html>
<html lang="en">

<head>
    <title>Web App</title>
    <style>




    </style>
</head>

<body>


    <script>
        //å¾ªçŽ¯é“¾è¡¨å’Œé“¾è¡¨å”¯ä¸€çš„åŒºåˆ«åœ¨äºŽæœ€åŽä¸€ä¸ªå…ƒç´ æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆï¼ˆtail.nextï¼‰ï¼Œä¸æ˜¯å¼•ç”¨undefinedï¼Œè€Œæ˜¯æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆheadï¼‰
      //éƒ½å¯ä»¥åœ¨å•é“¾è¡¨åŸºç¡€ä¸Šè¿›è¡Œç»„è£…

        class Node {

            constructor(element) {
                this.element = element;
                this.next = null;
            }
        }


        class LinkedList {

            constructor(element) {
                this.count = 0
                this.head = null

            }

            push(element) {
                let node = new Node(element)

                if (this.head === null) {
                    this.head = node

                } else {
                    let current = this.head     //è¿™ä¸ªæ–°çš„å˜é‡æ˜¯ä¸ºäº†ä¿æŠ¤é“¾è¡¨çš„åŽŸå§‹headä¸å—æ”¹å˜ï¼Œä½†æ˜¯æŒ‡é’ˆæŒ‡å‘æœ€åŽçš„node
                    while (current.next !== null) {
                        current = current.next
                    }
                    current.next = node
                }
                this.count++

            }
            // æ‰¾åˆ°éœ€è¦ä½ç½®çš„nodeï¼ˆä»Žheadå¼€å§‹å¾€åŽæ‰¾ï¼‰
            getNodeAt(index) {
                if (index >= 0 && index < this.count) {
                    let node = this.head
                    for (let i = 0; i < index; i++) {
                        node = node.next
                    }
                    return node
                }

                return
            }

            //æŒ‡å®šä½ç½®åˆ é™¤(0,1,2ä½ç½®)
            removeAt(index) {
                if (index >= 0 && index < this.count) {
                    let current = this.head
                    if (index === 0) {
                        this.head = this.head.next
                    } else {
                        let previous = this.getNodeAt(index - 1)
                        current = previous.next
                        previous.next = current.next

                    }
                    this.count--

                    return current.element
                }
                return                       //è¿™é‡Œä¸å®šä¹‰ç›´æŽ¥è¿”å›ž undefined
            }


            indexOf(el) {

                let current = this.head
                for (let i = 0; i < this.count; i++) {
                    if (JSON.stringify(current.element) === JSON.stringify(el)) {            //å…ˆå°†å¯¹è±¡(obj)è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åŽæ¯”è¾ƒå­—ç¬¦ä¸².è¿™æ˜¯ä¸ºäº†é¿å…nodeä¸­å‚¨å­˜objectç±»åž‹çš„æ•°æ®ï¼Œå› ä¸ºobjectç±»åž‹çš„æ•°æ®æ— æ³•æ¯”è¾ƒ
                        return i
                    }
                    current = current.next

                }
                return -1
            }
            //åˆ é™¤ç»™å‡ºçš„å€¼
            remove(element) {
                let index = this.indexOf(element)
                return this.removeAt(index)


            }

            insert(element, index) {
                if (index >= 0 && index <= this.count) {   //æ³¨æ„è¿™ä¸ªindex<=this.countä¸­çš„ðŸŸ°ï¼Œè¡¨é¢æ’å…¥åœ¨ç©ºé›†åˆé‡Œé¢çš„ä¸€ä¸ªæ•°
                    const node = new Node(element)
                    if (index === 0) {
                        let current = this.head
                        node.next = current
                        this.head = node
                    } else {
                        let previous = this.getNodeAt(index - 1)
                        let current = previous.next
                        previous.next = node
                        node.next = current
                    }
                    this.count++
                    return true
                }
                return false
            }



            isEmpty() {
                return this.size() === 0
            }
            size() {
                return this.count
            }




        }
        let newList = new LinkedList()

        




    </script>
    <script>
        //è¿™æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨èŠ‚ç‚¹çš„ç±»å®šä¹‰ï¼Œç»§æ‰¿äº†æ™®é€šçš„å•å‘é“¾è¡¨èŠ‚ç‚¹
       

        class CircleLinkedList extends LinkedList {

            constructor() {
                super()
                

            }

            push(element) {
                let node = new Node(element)
                if (this.head === null) {
                    this.head=node
                    
                   
                   
                } else {
                    let current=this.getNodeAt(this.size()-1)
                    current.next=node
                    

                }
                node.next = this.head
                this.count++

            }
            insert(element, index) {
                if (index >= 0 && index <= this.count) {   //æ³¨æ„è¿™ä¸ªindex<=this.countä¸­çš„ðŸŸ°ï¼Œè€ƒè™‘count=0çš„æƒ…å†µï¼Œæ’å…¥åœ¨ç©ºé›†åˆé‡Œé¢çš„ä¸€ä¸ªæ•°
                    const node = new Node(element)
                    let current = this.head
                    if (index === 0) {
                        if(this.head===null){
                            this.head=node
                            node.next=this.head
                        }else{
                            node.next = current
                         current = this.getNodeAt(this.size() - 1) //ä¸èƒ½æ”¾åœ¨this.head = nodeåŽé¢ï¼Œä¸èƒ½æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ ä¹‹åŽå†å¤„ç†æŽ’åœ¨æœ€åŽçš„æ•°
                            this.head = node
                        
                            current.next=this.head
                        }    
                           
                    } else {
                        let previous = this.getNodeAt(index - 1)
                            current = previous.next
                           previous.next = node
                            node.next = current
                    }
                    this.count++
                    return true
                }
                return false
            }

            removeAt(index) {
                if (index >= 0 && index < this.count) {
                    let current = this.head
                    if (index === 0) {
                        if(this.count===1){
                            this.head=undefined
                        }else{
                            let last= this.getNodeAt(this.size() - 1)//æ³¨æ„é¡ºåºï¼Œä¸èƒ½å°†this.head=this.head.nextå†™å‰é¢
                            this.head = this.head.next
                            last.next=this.head

                        }    
                    } else {
                        let previous = this.getNodeAt(index - 1)
                        current = previous.next
                        previous.next = current.next

                    }
                    this.count--

                    return current.element
                }
                return                       //è¿™é‡Œä¸å®šä¹‰ç›´æŽ¥è¿”å›ž undefined

            }







            getHead() {
                return this.head

            }
            getTail() {
                return this.tail

            }
        }

        let list = new CircleLinkedList()
    </script>

</body>

</html>